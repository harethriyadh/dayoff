"use strict";
exports.id = 58;
exports.ids = [58];
exports.modules = {

/***/ 3770:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2017);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var gatsby__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(123);
/* provided dependency */ var fetch = __webpack_require__(3492);
// Import the Link component from Gatsby
function RegisterPage(){const{0:name,1:setName}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');const{0:username,1:setUsername}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');const{0:password,1:setPassword}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');const{0:passwordVisible,1:setPasswordVisible}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);const{0:role,1:setRole}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('employee');// Default role
const{0:availableDaysOff,1:setAvailableDaysOff}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);// Initial days off
const handleRegister=async e=>{e.preventDefault();try{const response=await fetch('https://subend.onrender.com/api/registr',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name,username,password,role,availableDaysOff})// Sending as a number now
});if(!response.ok){const errorData=await response.json();throw new Error(errorData.message||'Registration failed.');}const data=await response.json();alert(data.message||'Registration successful! Please log in.');window.location.href="/login";// Redirect on success
}catch(error){console.error('Registration error:',error);alert('An error occurred during registration: '+error.message);}};const togglePasswordVisibility=e=>{e.preventDefault();setPasswordVisible(!passwordVisible);};const handleRoleChange=e=>{setRole(e.target.value);};const handleDaysOffChange=e=>{setAvailableDaysOff(parseInt(e.target.value,10)||0);};return/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"d-flex flex-column"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"page"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"container container-tight py-4"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"text-center mb-4"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(gatsby__WEBPACK_IMPORTED_MODULE_1__.Link,{to:"/",className:"navbar-brand navbar-brand-autodark"})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"card card-md"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"card-body"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h2",{className:"h2 text-center mb-4"},"\u0627\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628 \u062C\u062F\u064A\u062F"),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("form",{id:"registerForm",onSubmit:handleRegister,autoComplete:"off",noValidate:true},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"mb-3"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input",{type:"text",id:"name",className:"form-control",placeholder:"\u0627\u0633\u0645\u0643 \u0627\u0644\u062B\u0646\u0627\u0626\u064A",autoComplete:"off",value:name,onChange:e=>setName(e.target.value),required:true})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"mb-3"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input",{type:"text",id:"username",className:"form-control",placeholder:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",autoComplete:"off",value:username,onChange:e=>setUsername(e.target.value),required:true})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"mb-3"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"input-group input-group-flat"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input",{type:passwordVisible?'text':'password',id:"password",className:"form-control password-input",placeholder:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631",autoComplete:"off",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span",{className:"input-group-text"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a",{href:"javascript:void(0)",className:"link-secondary password-toggle",title:"\u0625\u0638\u0647\u0627\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631","data-bs-toggle":"tooltip",onClick:togglePasswordVisibility},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-1"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"}),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6"})))))),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"mb-3"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("label",{className:"form-label"},"\u0627\u0644\u062F\u0648\u0631"),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("select",{className:"form-select",value:role,onChange:handleRoleChange},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("option",{value:"employee"},"\u0645\u0648\u0638\u0641"),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("option",{value:"manager"},"\u0645\u062F\u064A\u0631"),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("option",{value:"leader"},"\u0642\u0627\u0626\u062F"),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("option",{value:"admin"},"\u0645\u0633\u0624\u0648\u0644"))),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"mb-3"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("label",{className:"form-label"},"\u0623\u064A\u0627\u0645 \u0627\u0644\u0625\u062C\u0627\u0632\u0629 \u0627\u0644\u0645\u062A\u0627\u062D\u0629"),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input",{type:"number",min:"0",className:"form-control",value:availableDaysOff,onChange:handleDaysOffChange})),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"form-footer"},/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button",{type:"submit",className:"btn btn-primary w-100"},"\u0627\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628")),/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div",{className:"text-center text-muted mt-3"},"\u0644\u062F\u064A\u0643 \u062D\u0633\u0627\u0628 \u0628\u0627\u0644\u0641\u0639\u0644\u061F ",/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(gatsby__WEBPACK_IMPORTED_MODULE_1__.Link,{to:"/login"},"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"))))))));}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RegisterPage);

/***/ })

};
;
//# sourceMappingURL=component---src-pages-register-jsx.js.map