{"version":3,"file":"component---src-pages-register-jsx.js","mappings":"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","sources":["webpack://my-app/./src/pages/register.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'gatsby'; // Import the Link component from Gatsby\nimport '../styles/css/tabler.min.css';\nimport '../styles/css/tabler-flags.min.css';\nimport '../styles/css/tabler-socials.min.css';\nimport '../styles/css/tabler-payments.min.css';\nimport '../styles/css/tabler-vendors.min.css';\nimport '../styles/css/tabler-marketing.min.css';\nimport '../styles/css/demo.min.css';\nimport '../styles/rtl.css';\n\nfunction RegisterPage() {\n    const [name, setName] = useState('');\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [passwordVisible, setPasswordVisible] = useState(false);\n    const [role, setRole] = useState('employee'); // Default role\n    const [availableDaysOff, setAvailableDaysOff] = useState(0); // Initial days off\n\n    const handleRegister = async (e) => {\n        e.preventDefault();\n\n        try {\n            const response = await fetch('https://subend.onrender.com/api/registr', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ name, username, password, role, availableDaysOff }), // Sending as a number now\n            });\n\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.message || 'Registration failed.');\n            }\n\n            const data = await response.json();\n            alert(data.message || 'Registration successful! Please log in.');\n            window.location.href = \"/login\"; // Redirect on success\n        } catch (error) {\n            console.error('Registration error:', error);\n            alert('An error occurred during registration: ' + error.message);\n        }\n    };\n\n    const togglePasswordVisibility = (e) => {\n        e.preventDefault();\n        setPasswordVisible(!passwordVisible);\n    };\n\n    const handleRoleChange = (e) => {\n        setRole(e.target.value);\n    };\n\n    const handleDaysOffChange = (e) => {\n        setAvailableDaysOff(parseInt(e.target.value, 10) || 0);\n    };\n\n    return (\n        <div className=\"d-flex flex-column\">\n            <div className=\"page\">\n                <div className=\"container container-tight py-4\">\n                    <div className=\"text-center mb-4\">\n                        <Link to=\"/\" className=\"navbar-brand navbar-brand-autodark\">\n                            {/* Add your logo here if needed */}\n                        </Link>\n                    </div>\n                    <div className=\"card card-md\">\n                        <div className=\"card-body\">\n                            <h2 className=\"h2 text-center mb-4\">انشاء حساب جديد</h2>\n                            <form id=\"registerForm\" onSubmit={handleRegister} autoComplete=\"off\" noValidate>\n                                <div className=\"mb-3\">\n                                    <input\n                                        type=\"text\"\n                                        id=\"name\"\n                                        className=\"form-control\"\n                                        placeholder=\"اسمك الثنائي\"\n                                        autoComplete=\"off\"\n                                        value={name}\n                                        onChange={(e) => setName(e.target.value)}\n                                        required\n                                    />\n                                </div>\n                                <div className=\"mb-3\">\n                                    <input\n                                        type=\"text\"\n                                        id=\"username\"\n                                        className=\"form-control\"\n                                        placeholder=\"اسم المستخدم\"\n                                        autoComplete=\"off\"\n                                        value={username}\n                                        onChange={(e) => setUsername(e.target.value)}\n                                        required\n                                    />\n                                </div>\n                                <div className=\"mb-3\">\n                                    <div className=\"input-group input-group-flat\">\n                                        <input\n                                            type={passwordVisible ? 'text' : 'password'}\n                                            id=\"password\"\n                                            className=\"form-control password-input\"\n                                            placeholder=\"كلمة المرور\"\n                                            autoComplete=\"off\"\n                                            value={password}\n                                            onChange={(e) => setPassword(e.target.value)}\n                                            required\n                                        />\n                                        <span className=\"input-group-text\">\n                                            <a\n                                                href=\"javascript:void(0)\"\n                                                className=\"link-secondary password-toggle\"\n                                                title=\"إظهار كلمة المرور\"\n                                                data-bs-toggle=\"tooltip\"\n                                                onClick={togglePasswordVisibility}\n                                            >\n                                                <svg\n                                                    xmlns=\"http://www.w3.org/2000/svg\"\n                                                    width=\"24\"\n                                                    height=\"24\"\n                                                    viewBox=\"0 0 24 24\"\n                                                    fill=\"none\"\n                                                    stroke=\"currentColor\"\n                                                    strokeWidth=\"2\"\n                                                    strokeLinecap=\"round\"\n                                                    strokeLinejoin=\"round\"\n                                                    className=\"icon icon-1\"\n                                                >\n                                                    <path d=\"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0\" />\n                                                    <path d=\"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6\" />\n                                                </svg>\n                                            </a>\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <div className=\"mb-3\">\n                                    <label className=\"form-label\">الدور</label>\n                                    <select\n                                        className=\"form-select\"\n                                        value={role}\n                                        onChange={handleRoleChange}\n                                    >\n                                        <option value=\"employee\">موظف</option>\n                                        <option value=\"manager\">مدير</option>\n                                        <option value=\"leader\">قائد</option>\n                                        <option value=\"admin\">مسؤول</option>\n                                    </select>\n                                </div>\n\n                                <div className=\"mb-3\">\n                                    <label className=\"form-label\">أيام الإجازة المتاحة</label>\n                                    <input\n                                        type=\"number\"\n                                        min=\"0\"\n                                        className=\"form-control\"\n                                        value={availableDaysOff}\n                                        onChange={handleDaysOffChange}\n                                    />\n                                </div>\n\n                                <div className=\"form-footer\">\n                                    <button type=\"submit\" className=\"btn btn-primary w-100\">\n                                        انشاء حساب\n                                    </button>\n                                </div>\n                                <div className=\"text-center text-muted mt-3\">\n                                    لديك حساب بالفعل؟ <Link to=\"/login\">تسجيل الدخول</Link>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default RegisterPage;"],"names":["React","useState","Link","RegisterPage","name","setName","username","setUsername","password","setPassword","passwordVisible","setPasswordVisible","role","setRole","availableDaysOff","setAvailableDaysOff","handleRegister","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","Error","message","data","alert","window","location","href","error","console","togglePasswordVisibility","handleRoleChange","target","value","handleDaysOffChange","parseInt","createElement","className","to","id","onSubmit","autoComplete","noValidate","type","placeholder","onChange","required","title","onClick","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","min"],"sourceRoot":""}