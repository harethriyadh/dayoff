{"version":3,"file":"component---src-pages-register-jsx-3e82a9e8cdda5cb25564.js","mappings":"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","sources":["webpack://my-app/./src/pages/register.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'gatsby'; // Import the Link component from Gatsby\nimport '../styles/css/tabler.min.css';\nimport '../styles/css/tabler-flags.min.css';\nimport '../styles/css/tabler-socials.min.css';\nimport '../styles/css/tabler-payments.min.css';\nimport '../styles/css/tabler-vendors.min.css';\nimport '../styles/css/tabler-marketing.min.css';\nimport '../styles/css/demo.min.css';\nimport '../styles/rtl.css';\n\nfunction RegisterPage() {\n    const [name, setName] = useState('');\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [passwordVisible, setPasswordVisible] = useState(false);\n    const [role, setRole] = useState('employee'); // Default role\n    const [availableDaysOff, setAvailableDaysOff] = useState(0); // Initial days off\n\n    const handleRegister = async (e) => {\n        e.preventDefault();\n\n        try {\n            const response = await fetch('https://subend.onrender.com/api/registr', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ name, username, password, role, availableDaysOff }), // Sending as a number now\n            });\n\n            if (!response.ok) {\n                const errorData = await response.json();\n                throw new Error(errorData.message || 'Registration failed.');\n            }\n\n            const data = await response.json();\n            alert(data.message || 'Registration successful! Please log in.');\n            window.location.href = \"/login\"; // Redirect on success\n        } catch (error) {\n            console.error('Registration error:', error);\n            alert('An error occurred during registration: ' + error.message);\n        }\n    };\n\n    const togglePasswordVisibility = (e) => {\n        e.preventDefault();\n        setPasswordVisible(!passwordVisible);\n    };\n\n    const handleRoleChange = (e) => {\n        setRole(e.target.value);\n    };\n\n    const handleDaysOffChange = (e) => {\n        setAvailableDaysOff(parseInt(e.target.value, 10) || 0);\n    };\n\n    return (\n        <div className=\"d-flex flex-column\">\n            <div className=\"page\">\n                <div className=\"container container-tight py-4\">\n                    <div className=\"text-center mb-4\">\n                        <Link to=\"/\" className=\"navbar-brand navbar-brand-autodark\">\n                            {/* Add your logo here if needed */}\n                        </Link>\n                    </div>\n                    <div className=\"card card-md\">\n                        <div className=\"card-body\">\n                            <h2 className=\"h2 text-center mb-4\">انشاء حساب جديد</h2>\n                            <form id=\"registerForm\" onSubmit={handleRegister} autoComplete=\"off\" noValidate>\n                                <div className=\"mb-3\">\n                                    <input\n                                        type=\"text\"\n                                        id=\"name\"\n                                        className=\"form-control\"\n                                        placeholder=\"اسمك الثنائي\"\n                                        autoComplete=\"off\"\n                                        value={name}\n                                        onChange={(e) => setName(e.target.value)}\n                                        required\n                                    />\n                                </div>\n                                <div className=\"mb-3\">\n                                    <input\n                                        type=\"text\"\n                                        id=\"username\"\n                                        className=\"form-control\"\n                                        placeholder=\"اسم المستخدم\"\n                                        autoComplete=\"off\"\n                                        value={username}\n                                        onChange={(e) => setUsername(e.target.value)}\n                                        required\n                                    />\n                                </div>\n                                <div className=\"mb-3\">\n                                    <div className=\"input-group input-group-flat\">\n                                        <input\n                                            type={passwordVisible ? 'text' : 'password'}\n                                            id=\"password\"\n                                            className=\"form-control password-input\"\n                                            placeholder=\"كلمة المرور\"\n                                            autoComplete=\"off\"\n                                            value={password}\n                                            onChange={(e) => setPassword(e.target.value)}\n                                            required\n                                        />\n                                        <span className=\"input-group-text\">\n                                            <a\n                                                href=\"javascript:void(0)\"\n                                                className=\"link-secondary password-toggle\"\n                                                title=\"إظهار كلمة المرور\"\n                                                data-bs-toggle=\"tooltip\"\n                                                onClick={togglePasswordVisibility}\n                                            >\n                                                <svg\n                                                    xmlns=\"http://www.w3.org/2000/svg\"\n                                                    width=\"24\"\n                                                    height=\"24\"\n                                                    viewBox=\"0 0 24 24\"\n                                                    fill=\"none\"\n                                                    stroke=\"currentColor\"\n                                                    strokeWidth=\"2\"\n                                                    strokeLinecap=\"round\"\n                                                    strokeLinejoin=\"round\"\n                                                    className=\"icon icon-1\"\n                                                >\n                                                    <path d=\"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0\" />\n                                                    <path d=\"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6\" />\n                                                </svg>\n                                            </a>\n                                        </span>\n                                    </div>\n                                </div>\n\n                                <div className=\"mb-3\">\n                                    <label className=\"form-label\">الدور</label>\n                                    <select\n                                        className=\"form-select\"\n                                        value={role}\n                                        onChange={handleRoleChange}\n                                    >\n                                        <option value=\"employee\">موظف</option>\n                                        <option value=\"manager\">مدير</option>\n                                        <option value=\"leader\">قائد</option>\n                                        <option value=\"admin\">مسؤول</option>\n                                    </select>\n                                </div>\n\n                                <div className=\"mb-3\">\n                                    <label className=\"form-label\">أيام الإجازة المتاحة</label>\n                                    <input\n                                        type=\"number\"\n                                        min=\"0\"\n                                        className=\"form-control\"\n                                        value={availableDaysOff}\n                                        onChange={handleDaysOffChange}\n                                    />\n                                </div>\n\n                                <div className=\"form-footer\">\n                                    <button type=\"submit\" className=\"btn btn-primary w-100\">\n                                        انشاء حساب\n                                    </button>\n                                </div>\n                                <div className=\"text-center text-muted mt-3\">\n                                    لديك حساب بالفعل؟ <Link to=\"/login\">تسجيل الدخول</Link>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default RegisterPage;"],"names":["name","setName","useState","username","setUsername","password","setPassword","passwordVisible","setPasswordVisible","role","setRole","availableDaysOff","setAvailableDaysOff","React","className","Link","to","id","onSubmit","async","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","Error","message","data","alert","window","location","href","error","console","autoComplete","noValidate","type","placeholder","value","onChange","target","required","title","onClick","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","min","parseInt"],"sourceRoot":""}